<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Isolation Forest-Based Presence-Only Species Distribution Modeling • itsdm</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Isolation Forest-Based Presence-Only Species Distribution Modeling">
<meta property="og:description" content="This is a package to do purely presence-only species
    distribution modeling with isolation forest and variations such as
    SCiForest and EIF. It also provides functions to make response curves,
    analyze variable importance, analyze spatial dependence of variables
    and analyze variable contribution. As utilities, the package includes
    a few functions to download bioclimatic variables including worldclim
    version 2.0 and CMCC-BioClimInd. There are also functions to detect
    outliers in the occurrence dataset to do data cleaning.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">itsdm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction_of_itsdm.html">Introduction of `itsdm` with a virtual species</a>
    </li>
    <li>
      <a href="articles/itsdm_example.html">Using `itsdm` to a real species: Africa savanna elephant</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/LLeiSong/itsdm/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="itsdm-">itsdm <img src="reference/figures/hexagon_sticker.png" align="right" height="120"><a class="anchor" aria-label="anchor" href="#itsdm-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>itsdm</code> calls isolation forest and variations such as SCiForest and EIF to model species distribution. It provides features including:</p>
<ul>
<li>A few functions to download environmental variables.</li>
<li>Outlier tree-based suspicious environmental outliers detection.</li>
<li>Isolation forest-based environmental suitability modeling.</li>
<li>Response curves of environmental variable.</li>
<li>Variable importance analysis.</li>
<li>Presence-only model evaluation.</li>
<li>Method to convert predicted suitability to presence-absence map.</li>
<li>Variable contribution analysis for the target observations.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the CRAN release of <code>itsdm</code> with (coming soon)</p>
<p>You can install the development version of itsdm from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"LLeiSong/itsdm"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(itsdm)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># Using a pseudo presence-only occurrence dataset of</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># virtual species provided in this package</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw">data</span>(<span class="st">"occ_virtual_species"</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co"># Split to training and test</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>occ_virtual_species &lt;-<span class="st"> </span>occ_virtual_species <span class="op">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="kw">row_number</span>())</span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="kw">set.seed</span>(<span class="dv">11</span>)</span>
<span id="cb2-11"><a href="#cb2-11"></a>occ &lt;-<span class="st"> </span>occ_virtual_species <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sample_frac</span>(<span class="fl">0.7</span>)</span>
<span id="cb2-12"><a href="#cb2-12"></a>occ_test &lt;-<span class="st"> </span>occ_virtual_species <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="op">!</span><span class="st"> </span>id <span class="op">%in%</span><span class="st"> </span>occ<span class="op">$</span>id)</span>
<span id="cb2-13"><a href="#cb2-13"></a>occ &lt;-<span class="st"> </span>occ <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>id)</span>
<span id="cb2-14"><a href="#cb2-14"></a>occ_test &lt;-<span class="st"> </span>occ_test <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>id)</span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co"># Get environmental variables</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>env_vars &lt;-<span class="st"> </span><span class="kw">system.file</span>(</span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="st">'extdata/bioclim_tanzania_10min.tif'</span>,</span>
<span id="cb2-19"><a href="#cb2-19"></a>  <span class="dt">package =</span> <span class="st">'itsdm'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">read_stars</span>() <span class="op">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="st">  </span><span class="op">%&gt;%</span><span class="st"> </span><span class="kw">slice</span>(<span class="st">'band'</span>, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">15</span>))</span>
<span id="cb2-21"><a href="#cb2-21"></a></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="co"># Train the model</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>mod &lt;-<span class="st"> </span><span class="kw">isotree_po</span>(</span>
<span id="cb2-24"><a href="#cb2-24"></a>  <span class="dt">occ =</span> occ, <span class="dt">occ_test =</span> occ_test,</span>
<span id="cb2-25"><a href="#cb2-25"></a>  <span class="dt">variables =</span> env_vars, <span class="dt">ntrees =</span> <span class="dv">200</span>,</span>
<span id="cb2-26"><a href="#cb2-26"></a>  <span class="dt">sample_rate =</span> <span class="fl">0.8</span>, <span class="dt">ndim =</span> 2L,</span>
<span id="cb2-27"><a href="#cb2-27"></a>  <span class="dt">seed =</span> 123L)</span>
<span id="cb2-28"><a href="#cb2-28"></a></span>
<span id="cb2-29"><a href="#cb2-29"></a><span class="co"># Check results</span></span>
<span id="cb2-30"><a href="#cb2-30"></a><span class="co">## Suitability</span></span>
<span id="cb2-31"><a href="#cb2-31"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb2-32"><a href="#cb2-32"></a><span class="st">  </span><span class="kw">geom_stars</span>(<span class="dt">data =</span> mod<span class="op">$</span>prediction) <span class="op">+</span></span>
<span id="cb2-33"><a href="#cb2-33"></a><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="st">'Predicted suitability'</span>,</span>
<span id="cb2-34"><a href="#cb2-34"></a>                       <span class="dt">na.value =</span> <span class="st">'transparent'</span>) <span class="op">+</span></span>
<span id="cb2-35"><a href="#cb2-35"></a><span class="st">  </span><span class="kw">coord_equal</span>() <span class="op">+</span></span>
<span id="cb2-36"><a href="#cb2-36"></a><span class="st">  </span><span class="kw">theme_linedraw</span>()</span>
<span id="cb2-37"><a href="#cb2-37"></a></span>
<span id="cb2-38"><a href="#cb2-38"></a><span class="co">## Plot independent response curves</span></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="kw">plot</span>(mod<span class="op">$</span>independent_responses, </span>
<span id="cb2-40"><a href="#cb2-40"></a>  <span class="dt">target_var =</span> <span class="kw">c</span>(<span class="st">'bio1'</span>, <span class="st">'bio12'</span>))</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="funding">Funding<a class="anchor" aria-label="anchor" href="#funding"></a>
</h2>
<p>This package is part of project “Combining Spatially-explicit Simulation of Animal Movement and Earth Observation to Reconcile Agriculture and Wildlife Conservation”. This project is funded by NASA FINESST program (award number: 80NSSC20K1640).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LLeiSong/itsdm/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/LLeiSong/itsdm/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing itsdm</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lei Song <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="/commits/main"><img src="https://img.shields.io/badge/last%20change-2022--01--04-yellowgreen.svg" alt="Last-changedate"></a></li>
<li><a href="https://github.com/LLeiSong/itsdm/actions" class="external-link"><img src="https://github.com/LLeiSong/itsdm/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Lei Song.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
